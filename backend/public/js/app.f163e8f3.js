(function(t){function e(e){for(var s,n,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],s=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var s={},a={app:0},i=[];function n(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=s,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},"2e74":function(t,e,r){"use strict";r("4b48")},"3c61":function(t,e,r){},4678:function(t,e,r){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=i(t);return r(e)}function i(t){if(!r.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=i,t.exports=a,a.id="4678"},"4b48":function(t,e,r){},"4ffd":function(t,e,r){t.exports=r.p+"img/logo.2b893d73.png"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app",attrs:{id:"app"}},[r("app-header"),r("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("header",{staticClass:"main-header"},[s("div",{staticClass:"main-header-left"},[s("button",{staticClass:"clr-btn"},[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"fas fa-home"})])],1)]),s("div",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:r("4ffd")}})])],1),s("div",{staticClass:"main-header-right"},[s("button",{staticClass:"clr-btn board-open-menu",on:{click:t.toggleBoardsMenu}},[s("i",{staticClass:"fas fa-th"}),t._v(" Boards ")]),t.isOpen?s("boards-menu",{attrs:{isOpen:t.isOpen},on:{closeBoardsMenu:t.closeBoardsMenu}}):t._e(),s("button",{staticClass:"clr-btn"},[s("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)],1)])])},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"boards-menu-container"},[r("div",{staticClass:"boards-menu"},[r("ul",{staticClass:"boards-list"},t._l(t.boards,(function(e){return r("li",{key:e._id,staticClass:"board-line flex",on:{click:t.closeBoardsMenu}},[r("router-link",{staticClass:"link",attrs:{to:"/board/"+e._id}},[e&&e.style.backgroundImgUrl?r("img",{staticClass:"img-preview",attrs:{src:e.style.backgroundImgUrl}}):r("div",{staticClass:"bgc-preview",style:{"background-color":e.style.backgroundColor}}),t._v(" "+t._s(e.title)+" ")])],1)})),0),r("button",{staticClass:"create-board-btn clr-btn",on:{click:t.addBoard}},[t._v(" + Create a board ")])])])},l=[],d=(r("96cf"),r("1da1")),u={props:{},methods:{addBoard:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"addBoard"});case 2:r=e.sent,t.$router.push("/board/".concat(r._id)),t.closeBoardsMenu();case 5:case"end":return e.stop()}}),e)})))()},closeBoardsMenu:function(){this.$emit("closeBoardsMenu")}},computed:{boards:function(){return this.$store.getters.getBoards}},created:function(){this.$store.dispatch({type:"loadBoards"})}},p=u,f=r("2877"),m=Object(f["a"])(p,c,l,!1,null,null,null),h=m.exports,b={props:{},data:function(){return{isOpen:!1}},methods:{toggleBoardsMenu:function(){this.isOpen=!this.isOpen},closeBoardsMenu:function(){this.isOpen=!1}},components:{boardsMenu:h}},v=b,g=Object(f["a"])(v,n,o,!1,null,null,null),C=g.exports,k={title:"Cardella",components:{appHeader:C}},y=k,x=Object(f["a"])(y,a,i,!1,null,null,null),_=x.exports,w=r("9483");Object(w["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var j=r("8c4f"),T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"home"},[r("div",{staticClass:"hero-container flex"},[r("div",{staticClass:"hero-title flex"},[r("img",{staticClass:"logo",attrs:{src:"https://res.cloudinary.com/morshva/image/upload/v1607179956/logo-black_bl4s9d.png"}}),r("h1",[t._v(" Putting the pieces together can be truly rewarding. Cardella is here to help lead your team on the path to success! ")]),r("router-link",{staticClass:"link flex",attrs:{to:"/board/5fca2d38e4167fe6dfcfbec5"}},[r("h4",[t._v("Let's Get Started")])])],1),r("img",{attrs:{flex:"",src:"https://res.cloudinary.com/shimrit/image/upload/v1606990002/cardella/9814_szxc5a.jpg"}})]),t._m(0),r("app-footer")],1)},B=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-container flex"},[r("div",{staticClass:"couple flex"},[r("div",{staticClass:"text"},[r("h2",{staticClass:"title"},[t._v("Working together is easy!")]),r("p",{staticClass:"desc"},[t._v(" Who says teamwork can't be fun? With Cardella it is simple to organize your project, keep together in progress, and achieve more. ")])]),r("img",{attrs:{src:"https://res.cloudinary.com/morshva/image/upload/v1607178261/1_hlgyzw.png"}})]),r("div",{staticClass:"couple flex"},[r("div",{staticClass:"text"},[r("h2",{staticClass:"title"},[t._v("Cardella loves cards!")]),r("p",{staticClass:"desc"},[t._v(" You can post, edit, choose labels, and add check-lists. Cardella's cards can do just about everything! Move them, copy, save, delete and add any photo you like. ")])]),r("img",{attrs:{src:"https://res.cloudinary.com/morshva/image/upload/v1607178261/2_wsibtx.png"}})]),r("div",{staticClass:"couple flex"},[r("div",{staticClass:"text"},[r("h2",{staticClass:"title"},[t._v("Just like stickers...")]),r("p",{staticClass:"desc"},[t._v(" Drag and drop a selected card or even an entire list in order to re-arrange your assignments. ")])]),r("img",{attrs:{src:"https://res.cloudinary.com/morshva/image/upload/v1607178261/3_oyfdys.png"}})])])}],O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("footer",{staticClass:"main-footer"},[r("small",[t._v("® All rights reserved 2020 - Mor Lev Ari - Noam Aviel - Shimrit Herbst")])])])}],D={},L=Object(f["a"])(D,O,I,!1,null,null,null),$=L.exports,M={name:"home-page",components:{appFooter:$}},A=M,P=Object(f["a"])(A,T,B,!1,null,null,null),E=P.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.board&&t.board.style?r("section",{staticClass:"app-container",style:{"background-color":t.board.style.backgroundColor,"background-image":"url("+t.board.style.backgroundImgUrl+")"}},[r("board-header",{attrs:{board:t.board}}),r("filtered-list-cmp"),r("div",{staticClass:"lists-container drag-component"},[r("Container",{attrs:{"non-drag-area-selector":t.pauseDrag,orientation:"horizontal","animation-duration":400},on:{drop:function(e){return t.onColumnDrop(e)}}},[t._l(t.board.lists,(function(e,s){return r("Draggable",{key:e.id},[r("list-cmp",{staticClass:"drag-component",attrs:{list:e,index:s,lists:t.board.lists,board:t.board}})],1)})),r("list-add")],2),t.showModal?r("div",{staticClass:"modal-route"},[r("div",{staticClass:"modal-content"},[r("router-view")],1)]):t._e()],1)],1):t._e()},S=[],R=r("3f7d"),U=(r("a434"),r("2909")),F={makeId:z,applyDrag:W,generateItems:H};function z(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function W(t,e){var r=e.removedIndex,s=e.addedIndex,a=e.payload;if(null===r&&null===s)return t;var i,n=Object(U["a"])(t);return a&&(i=a),null!==r&&(i=n.splice(r,1)[0]),null!==s&&n.splice(s,0,i),n}function H(t,e){for(var r=[],s=0;s<t;s++)r.push(e(s));return r}var J,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-header"},[r("div",{staticClass:"left-board-header flex"},[r("h2",{staticClass:"board-title",attrs:{contenteditable:"true"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateBoardTitle(e))},blur:t.updateBoardTitle}},[t._v(" "+t._s(t.board.title)+" ")])]),r("div",{staticClass:"avater-board-header flex f-center"},[r("members-cmp",{attrs:{members:t.board.members}})],1),r("div",{staticClass:"right-board-header flex"},[r("board-filter",{attrs:{board:t.board}}),r("button",{staticClass:"clr-btn menu-btn",on:{click:t.toggleMenu}},[r("i",{staticClass:"fas fa-bars"})]),r("transition",{attrs:{name:"fade"}},[t.isOpen?r("side-menu",{attrs:{board:t.board},on:{click:t.toggleMenu}}):t._e()],1)],1)])},Y=[],G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-avatar"},[r("ul",{staticClass:"avatar-list flex"},t._l(t.members,(function(t){return r("li",{key:t._id,staticClass:"avatar",attrs:{title:t.fullName}},[r("avatar",{staticClass:"avatar",attrs:{src:t.imgUrl,username:t.fullName,lighten:100,size:30,"background-color":"#dfe1e6",color:"#172b4d"}})],1)})),0)])},Q=[],K=r("4a89"),V=r.n(K),X={props:{members:Array},data:function(){return{}},computed:{},methods:{},created:function(){},components:{Avatar:V.a}},Z=X,tt=Object(f["a"])(Z,G,Q,!1,null,null,null),et=tt.exports,rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-filter"},[r("div",{staticClass:"filter-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.filterBy.txt},on:{input:[function(e){e.target.composing||t.$set(t.filterBy,"txt",e.target.value)},t.onSearchTxt]}}),t.filterBy.txt?r("button",{staticClass:"close-search-btn clr-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onCleanSearch(e)}}},[r("i",{staticClass:"el-icon-close"})]):t._e(),r("i",{staticClass:"fas fa-search"})])])},st=[],at={props:{},data:function(){return{filterBy:{txt:""}}},computed:{filteredList:function(){return this.$store.getters.getFilteredList}},methods:{onSearchTxt:function(){console.log("onSearchTxt",this.filterBy.txt),this.$store.dispatch({type:"query",filterBy:this.filterBy})},onCleanSearch:function(){this.filterBy.txt="",this.onSearchTxt()}},components:{},created:function(){}},it=at,nt=Object(f["a"])(it,rt,st,!1,null,null,null),ot=nt.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isClose?t._e():r("section",{staticClass:"side-menu"},[r("div",{staticClass:"side-menu-header flex"},[r("h3",[t._v("Menu")]),r("div",{staticClass:"side-menu-close-btn flex",on:{click:t.closeMenu}},[r("i",{staticClass:"fas fa-times"})])]),r("div",{staticClass:"side-menu-nav flex"},[r("button",{staticClass:"clr-btn",on:{click:t.removeBoard}},[r("i",{staticClass:"el-icon-delete"}),t._v(" Delete Board ")]),r("button",{staticClass:"clr-btn",on:{click:t.toggleChangeBgcMenu}},[r("i",{staticClass:"fas fa-palette"}),t._v(" Change Background ")]),t.isBackgroundMenuOpen?r("div",{staticClass:"background-change flex"},[t.isColorPickerOpen||t.isImgPickerOpen?t._e():r("div",{staticClass:"background-images"},[r("img",{attrs:{src:"https://res.cloudinary.com/shimrit/image/upload/v1606928149/cardella/WhatsApp_Image_2020-12-02_at_18.46.19_nezql1.jpg"},on:{click:t.toggleImgPicker}}),r("h5",[t._v("Photos")])]),t.isColorPickerOpen||t.isImgPickerOpen?t._e():r("div",{staticClass:"background-colors"},[r("img",{attrs:{src:"https://res.cloudinary.com/shimrit/image/upload/v1606928144/cardella/WhatsApp_Image_2020-12-02_at_18.46.20_et9hgk.jpg"},on:{click:t.toggleColorPicker}}),r("h5",[t._v("Colors")])]),t.isImgPickerOpen?r("image-picker",{on:{setBackgroundImg:t.setBackgroundImg}}):t._e(),t.isColorPickerOpen?r("color-picker",{on:{setBgc:t.setBgc}}):t._e()],1):t._e()]),t._m(0),r("div",{staticClass:"side-activities"},[r("board-activity-log",{staticClass:"activity-preview",attrs:{activities:t.board.boardActivities}})],1)])},lt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"activity-title"},[r("h5",[r("i",{staticClass:"fas fa-list-ul"}),t._v(" Activity Log:")])])}],dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"activities-container"},[r("div",{staticClass:"activities"},t._l(t.activities,(function(e){return r("div",{key:e.id,staticClass:"activity"},[r("div",{staticClass:"activity-content"},[r("p",[r("avatar",{staticClass:"avatar",attrs:{src:e.createdBy.imgUrl,username:e.createdBy.fullName,lighten:100,size:30,"background-color":"#f15656",color:"#172b4d"}}),r("span",{staticClass:"name"},[t._v(t._s(e.createdBy.fullname))]),void 0!==e.inCard.title?r("span",[t._v(t._s(e.txt+e.inCard.title)+", in list: "+t._s(e.inList.title))]):r("span",[t._v(t._s(e.txt+e.inList.title))])],1),r("small",{staticClass:"time"},[t._v(t._s(t._f("timeSince")(e.createdAt)))])])])})),0)])},ut=[],pt=r("c1df"),ft=r.n(pt),mt={props:{activities:Array},computed:{},filters:{timeSince:function(t){return ft()(t).fromNow()}},components:{Avatar:V.a}},ht=mt,bt=Object(f["a"])(ht,dt,ut,!1,null,null,null),vt=bt.exports,gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"image-picker flex"},t._l(t.imgUrls,(function(e,s){return r("img",{key:s,staticClass:"image-square",attrs:{src:e},on:{click:t.selectImage}})})),0)},Ct=[],kt={data:function(){return{selectedImgUrl:"",imgUrls:["https://res.cloudinary.com/morshva/image/upload/v1606942427/pexels-elle-hughes-1549201_uqaty3.jpg","https://res.cloudinary.com/morshva/image/upload/v1606942055/pexels-stephan-seeber-1261728_woemwx.jpg","https://res.cloudinary.com/morshva/image/upload/v1606941866/pexels-porapak-apichodilok-346768_s2wkfn.jpg","https://res.cloudinary.com/morshva/image/upload/v1606941730/pexels-lisa-fotios-1314133_uolx6n.jpg","https://res.cloudinary.com/morshva/image/upload/v1606922938/pexels-tyler-lastovich-997443_o6k7hc.jpg","https://res.cloudinary.com/morshva/image/upload/v1606573776/7_op2qhx.jpg","https://res.cloudinary.com/morshva/image/upload/v1606573383/5_mavwxz.jpg","https://res.cloudinary.com/morshva/image/upload/v1606572976/3_ye915h.jpg"]}},methods:{selectImage:function(t){this.selectedImgUrl=t.target.src,this.$emit("setBackgroundImg",this.selectedImgUrl)}}},yt=kt,xt=Object(f["a"])(yt,gt,Ct,!1,null,null,null),_t=xt.exports,wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"color-picker flex"},t._l(t.colors,(function(e,s){return r("div",{key:s,staticClass:"color-square",style:{backgroundColor:e},on:{click:function(r){return t.selectColor(e)}}})})),0)},jt=[],Tt={data:function(){return{colors:["#ececec","#5699b4","#2fb3a3","#ffd56b","#f8a663","#e66646","#bdbdbd","#2f2f2f"]}},methods:{selectColor:function(t){this.$emit("setBgc",t)}}},Bt=Tt,Ot=Object(f["a"])(Bt,wt,jt,!1,null,null,null),It=Ot.exports,Dt=r("3d20"),Lt=r.n(Dt),$t={props:{board:Object},data:function(){return{isClose:!1,isBackgroundMenuOpen:!1,isColorPickerOpen:!1,isImgPickerOpen:!1}},computed:{},methods:{removeBoard:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lt.a.fire({title:"Are you sure you want to delete this board?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"});case 2:r=e.sent,r.isConfirmed&&(t.$store.dispatch({type:"removeBoard",boardId:t.board._id}),t.$router.push("/"));case 4:case"end":return e.stop()}}),e)})))()},closeMenu:function(){this.isClose=!0},toggleChangeBgcMenu:function(){this.isBackgroundMenuOpen=!this.isBackgroundMenuOpen,this.isColorPickerOpen=!1,this.isImgPickerOpen=!1},toggleImgPicker:function(){this.isImgPickerOpen=!this.isImgPickerOpen},toggleColorPicker:function(){this.isColorPickerOpen=!this.isColorPickerOpen},setBgc:function(t){this.board.style.backgroundColor=t,this.board.style.backgroundImgUrl="",this.$store.dispatch({type:"updateBoard",board:this.board}),this.isClose=!0},setBackgroundImg:function(t){this.board.style.backgroundImgUrl=t,this.board.style.backgroundColor="",this.$store.dispatch({type:"updateBoard",board:this.board}),this.isClose=!0}},components:{boardActivityLog:vt,imagePicker:_t,colorPicker:It}},Mt=$t,At=Object(f["a"])(Mt,ct,lt,!1,null,null,null),Pt=At.exports,Et={props:{board:Object},data:function(){return{isOpen:!1}},methods:{updateBoardTitle:function(t){this.board.title!==t.target.innerText&&(t.target.innerText?(this.board.title=t.target.innerText,t.target.blur(),this.$store.dispatch({type:"updateBoard",board:this.board})):t.target.innerText=this.board.title)},toggleMenu:function(){this.isOpen=!this.isOpen}},components:{membersCmp:et,boardFilter:ot,sideMenu:Pt}},Nt=Et,St=Object(f["a"])(Nt,q,Y,!1,null,null,null),Rt=St.exports,Ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"list-container flex"},[r("div",{staticClass:"list-header flex f-center"},[r("h4",{staticClass:"list-title flex",attrs:{contenteditable:"true"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateListTitle(e))},blur:t.updateListTitle}},[t._v(" "+t._s(t.list.title)+" ")]),r("div",{staticClass:"list-open-menu flex",on:{click:t.toggleOpenListMenu}},[r("i",{staticClass:"el-icon-more"})]),t.isMenuOpen?r("list-menu",{attrs:{list:t.list},on:{closeListMenu:t.closeListMenu}}):t._e()],1),r("div",{staticClass:"list-cards"},[r("Container",{attrs:{"non-drag-area-selector":t.pauseDrag,"group-name":"list","get-child-payload":t.getCardPayload(t.list.id),"animation-duration":350},on:{drop:function(e){return t.onDrop(e)}}},t._l(t.list.cards,(function(e){return r("Draggable",{key:e.id},[r("router-link",{attrs:{to:"list/"+t.list.id+"/card/"+e.id,append:""}},[r("card-preview",{staticClass:"drag-component",style:{backgroundColor:e.style.bgColor},attrs:{card:e},on:{removeCard:t.removeCard,updateCard:t.onUpdateBoard}})],1)],1)})),1)],1),r("div",{staticClass:"add-card-container"},[t.isNew?r("div",{staticClass:"add-card-button-inside clr-btn flex"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCardTitle,expression:"newCardTitle"}],attrs:{type:"text",placeholder:"Enter a title for this card..."},domProps:{value:t.newCardTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCard(e)},input:function(e){e.target.composing||(t.newCardTitle=e.target.value)}}}),r("div",{staticClass:"add-card-inside-cont flex"},[r("button",{staticClass:"add-card-btn clr-btn",on:{click:t.addCard}},[t._v(" Add card ")]),r("button",{staticClass:"clr-btn",on:{click:t.onCloseNewCard}},[r("i",{staticClass:"fas fa-times"})])])]):r("button",{staticClass:"add-another-card-button clr-btn",on:{click:t.onOpenNewCard}},[t._v(" + Add another card ")])])])},Ft=[],zt=(r("4de4"),r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"card-preview-container"},[t.card.uploadImgUrl?r("img",{attrs:{src:t.card.uploadImgUrl}}):t._e(),r("div",{staticClass:"card-content"},[t.card.labels&&t.card.labels.length?r("card-preview-labels",{staticClass:"card-top-labels",attrs:{labels:t.card.labels},on:{updateCard:t.onUpdateCard}}):t._e(),r("div",{staticClass:"card-title-delete flex"},[r("p",{staticClass:"card-title"},[t._v(t._s(t.card.title))]),r("span",[r("i",{staticClass:"el-icon-delete card-trash",on:{click:function(e){return e.preventDefault(),t.emitRemoveCard(e)}}})])]),r("section",{staticClass:"card-bottom flex"},[r("div",{staticClass:"card-bottom-left"},[t.card.members&&t.card.members.length?r("members-cmp",{attrs:{members:t.card.members}}):t._e()],1),r("div",{staticClass:"card-bottom-right flex"},[t.card.checklists&&t.card.checklists.length?r("span",[r("i",{staticClass:"el-icon-finished"}),t._v(" "+t._s(t.checklistCount)+" ")]):t._e()])])],1)])}),Wt=[],Ht=(r("13d5"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.labels.length?r("section",{class:{"labels-open":t.isTitled,"labels-closed":!t.isTitled}},[r("ul",{staticClass:"labels-list flex"},t._l(t.labels,(function(e,s){return r("li",{key:e.id,staticClass:"li-label clr-btn flex",style:{backgroundColor:e.color},on:{click:function(e){return e.preventDefault(),t.onIsTitled(e)}}},[t._v(" "+t._s(t.labelForLiDisplay(e.title))+" "),t.isTitled?r("button",{staticClass:"remove-label clr-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onRemoveLabel(s)}}},[r("i",{staticClass:"el-icon-close"})]):t._e()])})),0)]):t._e()}),Jt=[],qt={props:{labels:Array},data:function(){return{isTitled:!1}},methods:{onIsTitled:function(){this.isTitled=!this.isTitled},labelForLiDisplay:function(t){return this.isTitled?t:""},onRemoveLabel:function(t){this.labels.splice(t,1),this.$emit("updateCard")}},components:{},created:function(){}},Yt=qt,Gt=Object(f["a"])(Yt,Ht,Jt,!1,null,null,null),Qt=Gt.exports,Kt={props:{card:Object},data:function(){return{}},computed:{checklistCount:function(){var t,e,r=null===(t=this.card)||void 0===t||null===(e=t.checklists)||void 0===e?void 0:e.reduce((function(t,e){return t+e.todos.length}),0);return r?this.card.checklists.reduce((function(t,e){return t+e.todos.reduce((function(t,e){return e.isDone?t+1:t}),0)}),0)+"/"+r:""}},methods:{emitRemoveCard:function(){console.log("we are here"),this.$emit("removeCard",this.card.id)},onUpdateCard:function(){this.$emit("updateCard")}},components:{membersCmp:et,cardPreviewLabels:Qt}},Vt=Kt,Xt=Object(f["a"])(Vt,zt,Wt,!1,null,null,null),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"list-menu flex .f-row"},[r("div",{staticClass:"list-menu-header flex"},[r("h3",[t._v("List Actions")]),r("div",{staticClass:"list-menu-close-btn",on:{click:t.closeListMenu}},[r("i",{staticClass:"el-icon-close"})])]),r("div",{staticClass:"list-menu-content flex"},[r("ul",[r("li",{on:{click:t.removeList}},[t._v("Delete list")]),t.isNew?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCardTitle,expression:"newCardTitle"}],attrs:{type:"text",placeholder:"Enter a title for this card..."},domProps:{value:t.newCardTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCard(e)},input:function(e){e.target.composing||(t.newCardTitle=e.target.value)}}}),r("div",{staticClass:"list-menu-add-btn-container"},[r("button",{staticClass:"clr-btn",on:{click:t.addCard}},[t._v(" Add card ")]),r("button",{staticClass:"clr-btn",on:{click:t.onCloseNewCard}},[r("i",{staticClass:"fas fa-times"})])])]):r("li",{on:{click:t.onOpenNewCard}},[t._v("Add card")])])])])},ee=[],re={props:{list:Object},data:function(){return{isNew:!1,newCardTitle:""}},methods:{onOpenNewCard:function(){this.isNew=!0},onCloseNewCard:function(){this.isNew=!1},removeList:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lt.a.fire({title:"Are you sure you want to delete this list?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"});case 2:r=e.sent,r.isConfirmed?t.$store.dispatch({type:"removeList",listId:t.list.id}):t.closeListMenu();case 4:case"end":return e.stop()}}),e)})))()},closeListMenu:function(){this.$emit("closeListMenu")},addCard:function(){this.$store.dispatch({type:"addCard",cardTitle:this.newCardTitle,listId:this.list.id}),this.isNew=!1,this.newCardTitle=""}},created:function(){}},se=re,ae=(r("2e74"),Object(f["a"])(se,te,ee,!1,null,"1a2f419e",null)),ie=ae.exports,ne=window.matchMedia("(max-width: 770px)"),oe={props:{board:Object,list:Object,lists:Array,index:Number},data:function(){return{isNew:!1,newCardTitle:"",isMenuOpen:!1,preventDrag:!1}},computed:{pauseDrag:function(){return this.preventDrag?".drag-component":""}},methods:{toggleOpenListMenu:function(){this.isMenuOpen=!this.isMenuOpen},closeListMenu:function(){this.isMenuOpen=!1},onDrop:function(t){this.list.cards=F.applyDrag(this.list.cards,t),this.$store.dispatch({type:"updateBoard",board:this.board})},getCardPayload:function(t){var e=this;return function(r){return e.lists.filter((function(e){return e.id===t}))[0].cards[r]}},onOpenNewCard:function(){this.isNew=!0},onCloseNewCard:function(){this.isNew=!1},updateListTitle:function(t){this.list.title!==t.target.innerText&&(t.target.innerText?(this.list.title=t.target.innerText,t.target.blur(),this.$store.dispatch({type:"updateList",list:this.list})):t.target.innerText=this.list.title)},addCard:function(){this.$store.dispatch({type:"addCard",cardTitle:this.newCardTitle,listId:this.list.id}),this.isNew=!1,this.newCardTitle=""},removeCard:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Lt.a.fire({title:"Are you sure you want to delete this card?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"});case 2:s=r.sent,s.isConfirmed&&e.$store.dispatch({type:"removeCard",cardId:t,listId:e.list.id});case 4:case"end":return r.stop()}}),r)})))()},onUpdateBoard:function(){console.log("onUpdateBoard in list.cmp");var t=JSON.parse(JSON.stringify(this.board));this.$store.dispatch({type:"updateBoard",board:t})},onWindowWidthChange:function(){ne.matches?(console.log("onWindowWidthChange - if"),this.preventDrag=!0):(console.log("onWindowWidthChange - else"),this.preventDrag=!1)}},components:{Container:R["Container"],Draggable:R["Draggable"],cardPreview:Zt,listMenu:ie},created:function(){var t=this;ne.addEventListener("change",(function(){t.onWindowWidthChange()})),this.onWindowWidthChange()}},ce=oe,le=Object(f["a"])(ce,Ut,Ft,!1,null,null,null),de=le.exports,ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"add-list-container"},[t.isNew?r("div",{staticClass:"add-list-button-inside flex"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newListTitle,expression:"newListTitle"}],attrs:{type:"text",placeholder:"Enter list title..."},domProps:{value:t.newListTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addList(e)},input:function(e){e.target.composing||(t.newListTitle=e.target.value)}}}),r("div",{staticClass:"add-list-inside-cont flex"},[r("button",{staticClass:"clr-btn",on:{click:t.addList}},[t._v("Add list")]),r("button",{staticClass:"clr-btn",on:{click:t.onCloseNewList}},[r("i",{staticClass:"fas fa-times"})])])]):r("button",{staticClass:"add-another-list-button clr-burron",on:{click:t.onOpenNewList}},[t._v(" + Add another list ")])])},pe=[],fe={data:function(){return{isNew:!1,newListTitle:""}},methods:{onOpenNewList:function(){this.isNew=!0},onCloseNewList:function(){this.isNew=!1},addList:function(){this.$store.dispatch({type:"addList",listTitle:this.newListTitle}),this.isNew=!1,this.newListTitle=""}}},me=fe,he=Object(f["a"])(me,ue,pe,!1,null,null,null),be=he.exports,ve=r("8055"),ge=r.n(ve),Ce="/",ke={setup:ye,terminate:xe,on:_e,off:we,emit:je};function ye(){J=ge()(Ce)}function xe(){J=null}function _e(t,e){J.on(t,e)}function we(t,e){J.off(t,e)}function je(t,e){J.emit(t,e)}var Te,Be,Oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"search-results flex"},[r("div",{staticClass:"search-results-title flex"},[t.filteredList.length>0?r("h3",[t._v("Search Results")]):t._e()]),r("ul",t._l(t.filteredList,(function(e){return r("li",{key:e.id,on:{click:function(r){return t.onFilterCard(e.boardId,e.listId,e.id)}}},[r("b",[t._v(t._s(e.title))]),r("br"),r("span",[t._v("In list:")]),t._v(" "+t._s(e.listTitle)+" "),r("br"),r("span",[t._v("In board:")]),t._v(" "+t._s(e.boardTitle)+" ")])})),0)])])},Ie=[],De=(r("99af"),{props:{},data:function(){return{}},computed:{filteredList:function(){return this.$store.getters.getFilteredList}},methods:{onFilterCard:function(t,e,r){var s=this;console.log("onFilterCard",t,e,r);var a=this.$store.getters.getCurrBoard;if(t!==a._id){var i="/board/".concat(t);console.log("boardPath",i),this.$router.push(i)}var n="/board/".concat(t,"/list/").concat(e,"/card/").concat(r);setTimeout((function(){s.$router.push(n)}),1e3)}},created:function(){console.log("filteredListCmp",this.filteredList)}}),Le=De,$e=Object(f["a"])(Le,Oe,Ie,!1,null,null,null),Me=$e.exports,Ae=window.matchMedia("(max-width: 770px)"),Pe={data:function(){return{showModal:!1,preventDrag:!1}},computed:{board:function(){return this.$store.getters.getCurrBoard},pauseDrag:function(){return this.preventDrag?".drag-component":""}},methods:{onColumnDrop:function(t){var e=JSON.parse(JSON.stringify(this.board.lists));e=F.applyDrag(e,t),this.board.lists=e;var r=JSON.parse(JSON.stringify(this.board));this.$store.dispatch({type:"updateBoard",board:r})},loadBoard:function(){var t=this.$route.params.boardId;this.$store.dispatch({type:"loadBoard",boardId:t})},onSocketEvent:function(t){this.$store.commit({type:"setCurrBoard",board:t})},onWindowWidthChange:function(){Ae.matches?(console.log("onWindowWidthChange - if"),this.preventDrag=!0):(console.log("onWindowWidthChange - else"),this.preventDrag=!1)}},components:{Container:R["Container"],Draggable:R["Draggable"],boardHeader:Rt,listCmp:de,listAdd:be,filteredListCmp:Me},created:function(){var t=this;ke.setup(),ke.on("update",this.onSocketEvent);var e=this.$route.params.boardId;this.$store.dispatch({type:"loadBoard",boardId:e}),Ae.addEventListener("change",(function(){t.onWindowWidthChange()})),this.onWindowWidthChange()},destroyed:function(){ke.off("update",this.onSocketEvent),ke.terminate()},watch:{$route:{immediate:!0,handler:function(t){this.showModal=t.meta&&t.meta.showModal}},"$route.params.boardId":function(t){this.loadBoard(),console.log(t)}}},Ee=Pe,Ne=Object(f["a"])(Ee,N,S,!1,null,null,null),Se=Ne.exports,Re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"login flex f-col f-center"},[r("h4",{staticClass:"title"},[t._v(t._s(t.titleToShow))]),r("form",{staticClass:"flex f-col",on:{submit:function(e){return e.preventDefault(),t.sendUserDetails(e)}}},[t.isLogin?t._e():r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userName,expression:"user.userName"}],attrs:{type:"text",placeholder:"Enter Username"},domProps:{value:t.user.userName},on:{input:function(e){e.target.composing||t.$set(t.user,"userName",e.target.value)}}}),r("div",{staticClass:"pass"},["checkbox"===t.showPass?r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",type:"checkbox"},domProps:{checked:Array.isArray(t.user.password)?t._i(t.user.password,null)>-1:t.user.password},on:{change:function(e){var r=t.user.password,s=e.target,a=!!s.checked;if(Array.isArray(r)){var i=null,n=t._i(r,i);s.checked?n<0&&t.$set(t.user,"password",r.concat([i])):n>-1&&t.$set(t.user,"password",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.user,"password",a)}}}):"radio"===t.showPass?r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",type:"radio"},domProps:{checked:t._q(t.user.password,null)},on:{change:function(e){return t.$set(t.user,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",type:t.showPass},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),r("i",{class:t.showPassClass,on:{click:function(e){t.isShowPass=!t.isShowPass}}})]),r("button",[t._v(t._s(t.btnTextToShow))])])])},Ue=[],Fe={data:function(){return{user:{userName:"",password:"",isadmin:!1},isShowPass:!1}},methods:{sendUserDetails:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((t.isLogin||t.user.userName)&&t.user.password){e.next=3;break}return console.log("Fill all the details!"),e.abrupt("return");case 3:return e.next=5,t.$store.dispatch({type:t.isLogin?"login":"signup",userCred:t.user});case 5:r=e.sent,r.err&&console.log("err",r.err);case 7:case"end":return e.stop()}}),e)})))()}},computed:{titleToShow:function(){return this.isLogin?"Login":"Sign Up"},btnTextToShow:function(){return this.isLogin?"Login":"Sign Up"},showPass:function(){return this.isShowPass?"text":"password"},showPassClass:function(){return{"fas fa-eye":!this.isShowPass,"fas fa-eye-slash":this.isShowPass}},isLogin:function(){return this.$store.getters.isLogin}},watch:{}},ze=Fe,We=Object(f["a"])(ze,Re,Ue,!1,null,null,null),He=We.exports,Je={},qe=Object(f["a"])(Je,Te,Be,!1,null,null,null),Ye=qe.exports,Ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.card?r("section",{staticClass:"card-edit-container flex"},[r("div",{staticClass:"main-area"},[r("section",{staticClass:"edit-card-title flex"},[r("i",{staticClass:"el-icon-postcard"}),r("h3",{staticClass:"contenteditable-title flex",attrs:{contenteditable:"true"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateCardTitle(e))},blur:t.updateCardTitle}},[t._v(" "+t._s(t.card.title)+" ")])]),r("div",{staticClass:"edit-card-in-list flex"},[r("h5",[t._v("in list:")]),r("h5",[t._v(t._s(t.list.title))])]),t.card.labels?r("card-preview-labels",{staticClass:"card-preview-labels",attrs:{labels:t.card.labels},on:{updateCard:t.updateCard}}):t._e(),r("div",{staticClass:"members-dueDate-container flex"},[t.card.dueDate?r("div",{staticClass:"due-date-container flex f-col"},[t._m(0),r("h5",[t._v(t._s(t.dueDateToShow))])]):t._e(),t.card.members.length>0?r("div",{staticClass:"members-container flex f-col"},[t._m(1),r("members-cmp",{attrs:{members:t.card.members}})],1):t._e()]),r("div",{staticClass:"edit-card-desc"},[t._m(2),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.description,expression:"card.description"}],staticClass:"textarea-input",attrs:{type:"textarea",placeholder:"Add a more detailed description...",rows:"5","max-rows":"6"},domProps:{value:t.card.description},on:{blur:t.updateCardDescription,input:function(e){e.target.composing||t.$set(t.card,"description",e.target.value)}}})]),t.card.uploadImgUrl?r("div",{staticClass:"edit-card-img"},[t._m(3),r("section",{staticClass:"img-delete-container flex f-row"},[t.isLoading?r("img",{staticClass:"loading-img",attrs:{src:"https://i.pinimg.com/originals/78/e8/26/78e826ca1b9351214dfdd5e47f7e2024.gif"}}):r("img",{staticClass:"uploaded-img",attrs:{src:t.card.uploadImgUrl}}),r("h5",{on:{click:t.removeImg}},[r("i",{staticClass:"el-icon-delete"})])])]):t._e(),t.card.checklists?r("checklists-cmp",{attrs:{checklists:t.card.checklists},on:{updateCard:t.updateCard}}):t._e()],1),r("div",{staticClass:"edit-card-buttons-area flex"},[r("router-link",{staticClass:"close-edit-card flex",attrs:{to:"../../.."}},[r("i",{staticClass:"fas fa-times"})]),r("div",{staticClass:"edit-card-buttons-container flex f-col"},[r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.onLabelsEdit}},[r("i",{staticClass:"el-icon-collection-tag"}),t._v("Labels ")]),r("section",{staticClass:"card-edit-labels-list"},[t.isLabelsEdit?r("labels-editor",{attrs:{labels:t.card.labels},on:{updateCard:t.updateCard}}):t._e()],1),r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.onAddMembers}},[r("i",{staticClass:"el-icon-user"}),t._v("Members ")]),t.isAddMembers?r("add-card-members",{attrs:{currCardMembers:t.card.members,boardMembers:t.board.members},on:{setCardMembers:t.setCardMembers}}):t._e(),r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.onOpenDatePicker}},[r("i",{staticClass:"el-icon-time"}),t._v("Due Date ")]),t.isDisplayDatePicker?r("card-due-date",{staticClass:"card-edit-due-date",attrs:{currTimestemp:t.card.dueDate},on:{setDueDate:t.setDueDate}}):t._e(),r("button",{staticClass:"main-btn-card-edit flex clr-btn"},[r("label",{attrs:{for:"imgUploader"},on:{click:function(e){return e.preventDefault(),t.onOpenUploadImgField(e)}}},[r("i",{staticClass:"el-icon-picture-outline"}),t._v("Upload Image")])]),t.isDisplayUploadImg?r("input",{staticClass:"upload-image-input flex f-col",attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:t.onUploadImg}}):t._e(),r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.onAddChecklist}},[r("i",{staticClass:"el-icon-document-checked"}),t._v("Checklist ")]),t.isAddChecklist?r("add-checklist",{attrs:{checklists:t.card.checklists,isAddChecklist:this.isAddChecklist},on:{newChecklist:t.onNewChecklist}}):t._e(),r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.onOpenColorPallette}},[r("i",{staticClass:"el-icon-brush"}),t._v("Card Color ")]),t.isDisplayColorPallette?r("card-color",{staticClass:"card-edit-color",on:{setColor:t.changeColor}}):t._e(),r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.onOpenMoveTo}},[r("i",{staticClass:"el-icon-right"}),t._v("Move To ")]),t.isDisplayMoveTo?r("card-move-to",{attrs:{board:t.board,list:t.list,card:t.card}}):t._e(),r("button",{staticClass:"main-btn-card-edit flex clr-btn",on:{click:t.removeCard}},[r("i",{staticClass:"el-icon-delete"}),t._v("Delete card ")])],1)],1)]):t._e()},Qe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("b",[t._v("Due date:")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("b",[t._v("Members")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h3",{staticClass:"edit-card-title"},[r("i",{staticClass:"el-icon-document"}),t._v(" Description ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h3",{staticClass:"edit-card-title"},[r("i",{staticClass:"el-icon-paperclip"}),t._v("Image")])}],Ke=(r("c740"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("ul",{staticClass:"colors-container flex "},[r("li",{staticClass:"color",staticStyle:{"background-color":"#bfe4dd"},on:{click:function(e){return t.changeColor(e,"#bfe4dd")}}}),r("li",{staticClass:"color",staticStyle:{"background-color":"#ffe9b2"},on:{click:function(e){return t.changeColor(e,"#ffe9b2")}}}),r("li",{staticClass:"color",staticStyle:{"background-color":"#FFFFFF"},on:{click:function(e){return t.changeColor(e,"#FFFFFF")}}}),r("li",{staticClass:"color",staticStyle:{"background-color":"#e0dfdf"},on:{click:function(e){return t.changeColor(e,"#e0dfdf")}}}),r("li",{staticClass:"color",staticStyle:{"background-color":"#f6b6b4"},on:{click:function(e){return t.changeColor(e,"#f6b6b4")}}})])])}),Ve=[],Xe={props:{},data:function(){return{}},methods:{changeColor:function(t,e){this.$emit("setColor",e)}}},Ze=Xe,tr=Object(f["a"])(Ze,Ke,Ve,!1,null,null,null),er=tr.exports,rr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"checklists"},[t.checklists.length?r("ul",t._l(t.checklists,(function(e,s){return r("li",{key:e.id,staticClass:"check-list-li flex",attrs:{index:s}},[r("card-checklist",{attrs:{checklist:e},on:{updateCard:t.onUpdateCard}}),r("button",{staticClass:"delete-btn clr-btn",on:{click:function(e){return t.onRemoveChecklist(s)}}},[t._m(0,!0)])],1)})),0):t._e()])},sr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"el-icon-delete"})])}],ar=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"card-checklist"},[r("div",{staticClass:"edit-card-checklist flex"},[t._m(0),r("h3",{staticClass:"checklist-title flex",attrs:{contenteditable:"true"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateChecklistTitle(e))},blur:t.updateChecklistTitle}},[t._v(" "+t._s(t.checklist.title)+" ")])]),r("section",{staticClass:"progress-bar-container flex f-row"},[r("h5",{staticClass:"progress-bar-title"},[t._v(" "+t._s(t.getPercentage)+" ")]),r("div",{staticClass:"progress-bar flex"},[r("div",{staticClass:"progress-bar-percent",style:{width:t.getPercentage}})])]),r("div",{staticClass:"checklist-list-container"},[t.checklist.todos?r("ul",t._l(t.checklist.todos,(function(e,s){return r("li",{key:e.id,staticClass:"flex",attrs:{index:s}},[r("button",{staticClass:"checklist-btn-remove-todo",on:{click:function(e){return t.onRemoveTodo(s)}}},[r("i",{staticClass:"el-icon-close"})]),e.isDone?r("label",{style:{"text-decoration":"line-through"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"todo.isDone"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(r){var s=e.isDone,a=r.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&t.$set(e,"isDone",s.concat([n])):o>-1&&t.$set(e,"isDone",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"isDone",i)},t.onCheckbox]}}),t._v(" "+t._s(e.title)+" ")]):r("label",{style:{"text-decoration":"none"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"todo.isDone"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(r){var s=e.isDone,a=r.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&t.$set(e,"isDone",s.concat([n])):o>-1&&t.$set(e,"isDone",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"isDone",i)},t.onCheckbox]}}),t._v(" "+t._s(e.title)+" ")])])})),0):t._e()]),t.isAddTodoForm?t._e():r("button",{staticClass:"checklist-btn-add-item clr-btn",on:{click:t.onAddTodoForm}},[t._v(" Add an item ")]),t.isAddTodoForm?r("form",{staticClass:"add-todo-item-container flex",on:{submit:function(e){return e.preventDefault(),t.onAddTodo(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.tmpTodo.title,expression:"tmpTodo.title"}],staticClass:"checklist-input",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.tmpTodo.title},on:{input:function(e){e.target.composing||t.$set(t.tmpTodo,"title",e.target.value)}}}),r("button",{staticClass:"checklist-btn-add-todo clr-btn"},[t._v("Add")]),r("button",{staticClass:"checklist-btn close-add-todo close",on:{click:t.onCloseAddTodo}},[r("i",{staticClass:"el-icon-close"})])]):t._e()])},ir=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h3",{staticClass:"edit-card-title"},[r("i",{staticClass:"el-icon-finished"})])}],nr=(r("b680"),{props:{checklist:Object},data:function(){return{tmpTodo:{id:"",title:"",isDone:!1},isAddTodoForm:!1}},computed:{getPercentage:function(){var t=this.checklist.todos.reduce((function(t,e){return t+(e.isDone?1:0)}),0);return 0===t?"0%":(t/this.checklist.todos.length*100).toFixed(0)+"%"}},methods:{onCheckbox:function(){this.$emit("updateCard")},onAddTodo:function(){this.tmpTodo.id=F.makeId();var t=JSON.parse(JSON.stringify(this.tmpTodo));this.checklist.todos.splice(this.checklist.todos.length,0,t),this.tmpTodo.title="",this.$emit("updateCard")},onRemoveTodo:function(t){this.checklist.todos.splice(t,1),this.$emit("updateCard")},onAddTodoForm:function(){this.isAddTodoForm=!0,console.log("onAddTodoForm")},onCloseAddTodo:function(){this.isAddTodoForm=!1},updateChecklistTitle:function(t){this.checklist.title!==t.target.innerText&&(t.target.innerText?(this.checklist.title=t.target.innerText,t.target.blur(),this.$emit("updateCard")):t.target.innerText=this.checklist.title)}}}),or=nr,cr=Object(f["a"])(or,ar,ir,!1,null,null,null),lr=cr.exports,dr={props:{checklists:Array},data:function(){return{}},methods:{onRemoveChecklist:function(t){console.log("onRemoveCheclist",t),this.checklists.splice(t,1),this.$emit("updateCard")},onUpdateCard:function(){this.$emit("updateCard")}},components:{cardChecklist:lr},created:function(){}},ur=dr,pr=Object(f["a"])(ur,rr,sr,!1,null,null,null),fr=pr.exports,mr=r("bc3a"),hr=r.n(mr),br=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var r,s,a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="s2artogf",s="shimrit",a="https://api.cloudinary.com/v1_1/".concat(s,"/image/upload"),i=new FormData,i.append("file",e.target.files[0]),i.append("upload_preset",r),t.prev=6,t.next=9,hr.a.post(a,i);case 9:return n=t.sent,t.abrupt("return",n.data);case 13:t.prev=13,t.t0=t["catch"](6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),vr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block"},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"Select date and time",format:"dd/MM/yyyy HH:mm"},on:{change:t.emitDueDateChange},model:{value:t.newDueDate,callback:function(e){t.newDueDate=e},expression:"newDueDate"}})],1)},gr=[],Cr={props:{currTimestemp:Number},data:function(){return{newDueDate:this.currTimestemp?new Date(this.currTimestemp):Date.now()}},methods:{emitDueDateChange:function(){this.$emit("setDueDate",this.newDueDate.getTime())}}},kr=Cr,yr=Object(f["a"])(kr,vr,gr,!1,null,null,null),xr=yr.exports,_r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"add-checklist-container flex"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.onAddChecklist(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.tmpChecklist.title,expression:"tmpChecklist.title"}],attrs:{type:"text",placeholder:"Add checklist title"},domProps:{value:t.tmpChecklist.title},on:{input:function(e){e.target.composing||t.$set(t.tmpChecklist,"title",e.target.value)}}}),r("button",{staticClass:"add-checklist-btn"},[t._v("Add")])])])},wr=[],jr={props:{},data:function(){return{tmpChecklist:{id:"",title:"",todos:[]}}},methods:{onAddChecklist:function(){this.tmpChecklist.id=F.makeId();var t=JSON.parse(JSON.stringify(this.tmpChecklist));this.$emit("newChecklist",t),this.tmpChecklist.title=""}},components:{},created:function(){}},Tr=jr,Br=Object(f["a"])(Tr,_r,wr,!1,null,null,null),Or=Br.exports,Ir=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"add-members flex f-col"},t._l(t.users,(function(e){return r("li",{key:e._id,staticClass:"edit-card-member flex f-row",on:{click:function(r){return t.toggleMember(e._id)}}},[r("div",{staticClass:"avatar-img"},[r("avatar",{staticClass:"avatar",attrs:{src:e.imgUrl,username:e.fullName,lighten:100,size:30,"background-color":"#dfe1e6",color:"#172b4d"}})],1),e.isSelected?r("i",{staticClass:"fas fa-check"}):t._e(),r("span",{staticClass:"member-name"},[t._v(" "+t._s(e.fullName))])])})),0)},Dr=[],Lr=(r("7db0"),r("4160"),r("159b"),{props:{currCardMembers:Array,boardMembers:Array},data:function(){return{users:[]}},methods:{emitCardMembersChange:function(){var t=JSON.parse(JSON.stringify(this.users)),e=t.filter((function(t){return!0===t.isSelected}));e.forEach((function(t){return delete t.isSelected})),console.log("🚀 ~ file: card-add-members.cmp.vue ~ line 47 ~ emitCardMembersChange ~ newCardUsers",e),this.$emit("setCardMembers",e)},toggleMember:function(t){var e=this.users.find((function(e){return e._id===t}));e.isSelected=!e.isSelected,this.emitCardMembersChange()}},created:function(){var t=this,e=JSON.parse(JSON.stringify(this.boardMembers));e.forEach((function(e){t.currCardMembers.find((function(t){return t._id===e._id}))?e.isSelected=!0:e.isSelected=!1})),this.users=e},components:{Avatar:V.a}}),$r=Lr,Mr=Object(f["a"])($r,Ir,Dr,!1,null,null,null),Ar=Mr.exports,Pr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[t.isCustomEdit?r("form",{staticClass:"label-form",on:{submit:function(e){return e.preventDefault(),t.onCustomLabel(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.customLabelTitle,expression:"customLabelTitle"}],attrs:{type:"text"},domProps:{value:t.customLabelTitle},on:{input:function(e){e.target.composing||(t.customLabelTitle=e.target.value)}}}),r("div",{staticClass:"labels-form-btn flex"},[r("button",[t._v("Save")]),r("button",{on:{click:function(e){return e.preventDefault(),t.onCloseCustomEdit(e)}}},[r("i",{staticClass:"el-icon-close"})])])]):t._e(),r("ul",{staticClass:"labels-list flex f-center f-col"},t._l(t.labelsPallette,(function(e,s){return r("li",{key:e.id,staticClass:"edit-label flex",style:{backgroundColor:e.color},on:{click:function(e){return t.onAddLabel(s)}}},[r("p",{staticClass:"label-title"},[t._v(" "+t._s(e.title)+" ")]),r("button",{staticClass:"edit-label-btn clr-btn",on:{click:function(e){return e.stopPropagation(),t.onLabelEdit(s)}}},[r("i",{staticClass:"el-icon-edit"})])])})),0)])},Er=[],Nr={props:{labels:Array},data:function(){return{isCustomEdit:!1,customLabelIndex:0,customLabelTitle:"",labelsPallette:[{id:"101",title:"Clinical",color:"#43798f"},{id:"102",title:"Database",color:"#2A9D8F"},{id:"103",title:"DM",color:"#E9C46A"},{id:"104",title:"Design",color:"#F4A261"},{id:"105",title:"QA",color:"#E76F51"},{id:"106",title:"CRO",color:"#bdbdbd"}]}},methods:{onAddLabel:function(t){var e=JSON.parse(JSON.stringify(this.labelsPallette[t]));e.id=F.makeId(),this.labels.splice(this.labels.length,0,e),this.$emit("updateCard")},onLabelEdit:function(t){this.isCustomEdit=!0,this.customLabelTitle=this.labelsPallette[t].title,this.customLabelIndex=t},onCustomLabel:function(){console.log("onCustomLabel",this.customLabelTitle),this.labelsPallette[this.customLabelIndex].title=this.customLabelTitle,this.isCustomEdit=!1},onCloseCustomEdit:function(){this.isCustomEdit=!1}},components:{},created:function(){}},Sr=Nr,Rr=Object(f["a"])(Sr,Pr,Er,!1,null,null,null),Ur=Rr.exports,Fr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"card-move-to-menu flex f-col"},[r("div",{staticClass:"list-drop-down"},[r("div",[t._v("List:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedListToMoveTo,expression:"selectedListToMoveTo"}],on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedListToMoveTo=e.target.multiple?r:r[0]},t.onListSelected]}},t._l(t.board.lists,(function(e){return r("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.title)+" ")])})),0),r("div",[t._v("Position:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedIdxToMoveTo,expression:"selectedIdxToMoveTo"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedIdxToMoveTo=e.target.multiple?r:r[0]}}},t._l(t.cardsCountToshow,(function(e){return r("option",{key:e-1,domProps:{value:e-1}},[t._v(" "+t._s(e)+" ")])})),0),r("button",{on:{click:t.onMoveCard}},[t._v("Move")])])])},zr=[],Wr=(r("c975"),{props:{board:Object,list:Object,card:Object},data:function(){return{selectedListToMoveTo:this.list,selectedIdxToMoveTo:null}},computed:{cardsCountToshow:function(){if(this.selectedListToMoveTo.id===this.list.id)return this.list.cards.length;var t=this.board.lists.indexOf(this.selectedListToMoveTo);return this.board.lists[t].cards.length+1},cardIdxInCurrlist:function(){return this.list.cards.indexOf(this.card)}},methods:{removeCardFromCurrIdx:function(){return this.list.cards.splice(this.cardIdxInCurrlist,1)[0]},addCardToSelectedListIdx:function(){var t=this.board.lists.indexOf(this.selectedListToMoveTo);return this.board.lists[t].cards.splice(this.selectedIdxToMoveTo,0,this.card)},onMoveCard:function(){this.removeCardFromCurrIdx(),this.addCardToSelectedListIdx(),this.$store.dispatch({type:"updateBoard",board:this.board}),this.$router.push("/board/".concat(this.board._id))},onListSelected:function(){this.selectedListToMoveTo.id===this.list.id?this.selectedIdxToMoveTo=this.cardIdxInCurrlist:this.selectedIdxToMoveTo=0}},created:function(){this.selectedIdxToMoveTo=this.cardIdxInCurrlist}}),Hr=Wr,Jr=Object(f["a"])(Hr,Fr,zr,!1,null,null,null),qr=Jr.exports,Yr={props:{},data:function(){return{listId:"",cardId:"",isDisplayColorPallette:!1,isDisplayUploadImg:!1,isDisplayDatePicker:!1,isAddChecklist:!1,isAddMembers:!1,isLabelsEdit:!1,isDisplayMoveTo:!1}},computed:{board:function(){return this.$store.getters.getCurrBoard},list:function(){var t=this;if(this.board.lists){var e=this.board.lists.findIndex((function(e){return e.id===t.listId}));return this.board.lists[e]}return""},card:function(){var t=this;if(this.list.cards){var e=this.list.cards.findIndex((function(e){return e.id===t.cardId}));return this.list.cards[e]}return""},dueDateToShow:function(){return ft()(this.card.dueDate).calendar({lastDay:"[Yesterday at] HH:mm",sameDay:"[Today at] HH:mm",nextDay:"[Tomorrow at] HH:mm",lastWeek:"[Last] dddd [at] HH:mm",nextWeek:"dddd [at] HH:mm",sameElse:"DD/MM/YYYY [at] HH:mm"})},isLoading:function(){return this.$store.getters.isLoading}},methods:{changeColor:function(t){this.isDisplayColorPallette=!1,this.card.style.bgColor=t,this.updateCard()},onOpenColorPallette:function(){this.isDisplayColorPallette=!this.isDisplayColorPallette},onOpenMoveTo:function(){this.isDisplayMoveTo=!this.isDisplayMoveTo},onOpenUploadImgField:function(){this.isDisplayUploadImg=!this.isDisplayUploadImg},onOpenDatePicker:function(){this.isDisplayDatePicker=!this.isDisplayDatePicker},onAddChecklist:function(){this.isAddChecklist=!this.isAddChecklist},onAddMembers:function(){this.isAddMembers=!this.isAddMembers},onNewChecklist:function(t){this.card.checklists?this.card.checklists.splice(this.card.checklists.length,0,t):this.card.checklists=[t],this.isAddChecklist=!1,this.updateCard()},updateCardTitle:function(t){this.card.title!==t.target.innerText&&(t.target.innerText?(this.card.title=t.target.innerText,t.target.blur(),this.updateCard()):t.target.innerText=this.card.title)},updateCardDescription:function(){this.updateCard()},updateCard:function(){console.log("updateCard in card-edit"),this.$store.dispatch({type:"updateCard",card:this.card,list:this.list})},onUploadImg:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,br(t);case 2:s=r.sent,e.card.uploadImgUrl=s.secure_url,e.isDisplayUploadImg=!1,e.updateCard();case 6:case"end":return r.stop()}}),r)})))()},removeCard:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lt.a.fire({title:"Are you sure you want to delete this card?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"});case 2:r=e.sent,r.isConfirmed&&(t.$store.dispatch({type:"removeCard",cardId:t.card.id,listId:t.list.id}),t.$router.push("/board/".concat(t.board._id)));case 4:case"end":return e.stop()}}),e)})))()},removeImg:function(){this.card.uploadImgUrl="",this.$store.dispatch({type:"updateCard",card:this.card,list:this.list})},setDueDate:function(t){this.card.dueDate=t,this.updateCard()},setCardMembers:function(t){this.card.members=t,this.updateCard()},onLabelsEdit:function(){this.isLabelsEdit=!this.isLabelsEdit}},created:function(){var t=this.$route.params.listId,e=this.$route.params.cardId;this.cardId=e,this.listId=t},components:{cardColor:er,checklistsCmp:fr,cardDueDate:xr,membersCmp:et,addChecklist:Or,addCardMembers:Ar,cardPreviewLabels:Qt,labelsEditor:Ur,cardMoveTo:qr}},Gr=Yr,Qr=Object(f["a"])(Gr,Ge,Qe,!1,null,null,null),Kr=Qr.exports;s["default"].use(j["a"]);var Vr=[{path:"/",name:"Home Page",component:E},{path:"/board/:boardId?",name:"Board",component:Se,children:[{path:"/board/:boardId/list/:listId/card/:cardId",name:"Card",component:Kr,meta:{showModal:!0}}]},{path:"/login",name:"Login",component:He},{path:"/user/:id?",name:"User Details",component:Ye}],Xr=new j["a"]({routes:Vr}),Zr=Xr,ts=r("2f62"),es=(r("a4d3"),r("e01a"),r("caad"),r("2532"),r("a15b"),r("d81d"),r("b64b"),"/api/"),rs=hr.a.create({withCredentials:!0}),ss={get:function(t,e){return as(t,"GET",e)},post:function(t,e){return as(t,"POST",e)},put:function(t,e){return as(t,"PUT",e)},delete:function(t,e){return as(t,"DELETE",e)}};function as(t){return is.apply(this,arguments)}function is(){return is=Object(d["a"])(regeneratorRuntime.mark((function t(e){var r,s,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"get",s=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,t.next=5,rs({url:"".concat(es).concat(e),method:r,data:s});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status&&Zr.push("/"),console.log("Had issues ".concat(r,"ing to server"),t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),is.apply(this,arguments)}var ns={getBoards:os,getBoardById:cs,addBoard:ls,removeBoard:ds,updateBoard:us,getEmptyCard:ps,getEmptyList:fs,getActivity:ms};function os(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="",r=Object.keys(t);return r.length>0&&(e="?"+r.map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")),ss.get("board/".concat(e))}function cs(t){return ss.get("board/".concat(t))}function ls(){var t={title:"New board",style:{backgroundColor:"white",backgroundImgUrl:"https://res.cloudinary.com/morshva/image/upload/v1606573383/5_mavwxz.jpg"},createdBy:hs(),members:[hs()],createdAt:Date.now(),lists:[{id:F.makeId(),title:"New list",cards:[{id:F.makeId(),title:"New card",description:"",createdAt:Date.now(),style:{bgColor:"#E0DFDF"},createdBy:hs(),members:[],labels:[],comments:[],checklists:[]}]}],boardActivities:[]};return console.log(t),ss.post("board",t)}function ds(t){return console.log("here-removeBoard boardService"),ss.delete("board/".concat(t))}function us(t){return ss.put("board/".concat(t._id),t)}function ps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={id:F.makeId(),title:t,createdAt:Date.now(),dueDate:null,description:"",uploadImgUrl:"",style:{bgColor:"#FFFFFF"},createdBy:hs(),members:[],labels:[],checklists:[]};return e}function fs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={id:F.makeId(),title:t,cards:[]};return e}function ms(t){var e={id:F.makeId(),txt:" "+t.action+": ",createdAt:Date.now(),createdBy:{_id:"5fc4baf914c9a871c81fe2be",fullname:"Shimrit Herbst",imgUrl:"https://res.cloudinary.com/shimrit/image/upload/v1606511397/cardella/shimrit_idcy9l.jpg"},inCard:{id:t.cardId,title:t.cardTitle},inList:{id:t.listId,title:t.listTitle}};return e}function hs(){return{id:"u103",fullname:"Shimrit Herbst",imgUrl:"https://res.cloudinary.com/shimrit/image/upload/v1606511397/cardella/shimrit_idcy9l.jpg"}}var bs={strict:!0,state:{boards:[],currBoard:{},filterBy:{txt:""},filteredList:[]},getters:{getCurrBoard:function(t){return t.currBoard},getBoards:function(t){return t.boards},getFilteredList:function(t){var e=[];return t.filteredList.length>0&&t.filteredList.forEach((function(r){r.lists.forEach((function(s){var a=s.cards.filter((function(e){var a=!1;return e.title&&e.title.toLowerCase().includes(t.filterBy.txt.toLowerCase())&&(a=!0),e.description&&e.description.toLowerCase().includes(t.filterBy.txt.toLowerCase())&&(a=!0),a&&(e.boardId=r._id,e.boardTitle=r.title,e.listId=s.id,e.listTitle=s.title),a}));e=e.concat(a)}))})),e}},mutations:{setBoards:function(t,e){var r=e.boards;t.boards=r},setCurrBoard:function(t,e){var r=e.board;t.currBoard=r},setFilteredList:function(t,e){var r=e.filteredList;t.filteredList=r},setFilterBy:function(t,e){var r=e.filterBy;t.filterBy=r},addBoard:function(t,e){var r=e.newBoard;t.boards.push(r),t.currBoard=r},updateBoard:function(t,e){var r=e.board,s=t.boards.findIndex((function(t){return t._id===r._id}));t.boards.splice(s,1,r),t.currBoard=r},removeBoard:function(t,e){var r=e.boardId;if(t.boards.length>0){var s=t.boards.findIndex((function(t){return t._id===r}));t.boards.splice(s,1)}},addCard:function(t,e){var r=e.listId,s=e.card,a=t.currBoard.lists.findIndex((function(t){return t.id===r})),i=t.currBoard.lists[a].cards;i.push(s);var n={action:"added a card",cardId:s.id,cardTitle:s.title,listId:r,listTitle:t.currBoard.lists[a].title};t.currBoard.boardActivities.unshift(ns.getActivity(n))},updateCard:function(t,e){var r=e.list,s=e.card,a=t.currBoard.lists.findIndex((function(t){return t.id===r.id})),i=t.currBoard.lists[a].cards.findIndex((function(t){return t.id===s.id})),n=t.currBoard.lists[a].cards;n.splice(i,1,s);var o={action:"updated a card",cardId:s.id,cardTitle:s.title,listId:r.id,listTitle:t.currBoard.lists[a].title};t.currBoard.boardActivities.unshift(ns.getActivity(o))},removeCard:function(t,e){var r=e.listId,s=e.cardId,a=t.currBoard.lists.findIndex((function(t){return t.id===r})),i=t.currBoard.lists[a].cards.findIndex((function(t){return t.id===s})),n=t.currBoard.lists[a].cards,o={action:"deleted a card",cardId:s,cardTitle:n[i].title,listId:r,listTitle:t.currBoard.lists[a].title};n.splice(i,1),t.currBoard.boardActivities.unshift(ns.getActivity(o))},addList:function(t,e){var r=e.list,s=t.currBoard.lists;s.push(r);var a={action:"added a list",listId:r.id,listTitle:r.title};t.currBoard.boardActivities.unshift(ns.getActivity(a))},updateList:function(t,e){var r=e.list,s=t.currBoard.lists.findIndex((function(t){return t.id===r.id})),a=t.currBoard.lists;a.splice(s,1,r);var i={action:"updated a list",listId:r.id,listTitle:r.title};t.currBoard.boardActivities.unshift(ns.getActivity(i))},removeList:function(t,e){var r=e.listId,s=t.currBoard.lists.findIndex((function(t){return t.id===r})),a=t.currBoard.lists,i={action:"deleted a list",listId:r,listTitle:a[s].title};a.splice(s,1),t.currBoard.boardActivities.unshift(ns.getActivity(i))}},actions:{addBoard:function(t){return Object(d["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,ns.addBoard();case 4:return s=e.sent,r({type:"addBoard",newBoard:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.error("Cannot add board",e.t0),Lt.a.fire({icon:"error",text:"Cannot add board"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},query:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=e.filterBy,s({type:"setFilteredList",filteredList:[]}),s({type:"setFilterBy",filterBy:a}),r.next=6,ns.getBoards(a);case 6:i=r.sent,s({type:"setFilteredList",filteredList:i});case 8:case"end":return r.stop()}}),r)})))()},loadBoard:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=e.boardId,r.prev=2,r.next=5,ns.getBoardById(a);case 5:i=r.sent,ke.emit("update topic",a),s({type:"setCurrBoard",board:i}),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](2),console.error("Cannot load board",r.t0),Lt.a.fire({icon:"error",text:"Cannot load board"});case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},loadBoards:function(t){return Object(d["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,ns.getBoards();case 4:s=e.sent,r({type:"setBoards",boards:s}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error("Cannot load boards",e.t0),Lt.a.fire({icon:"error",text:"Cannot load boards"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},updateBoard:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=e.board,r.prev=2,r.next=5,ns.updateBoard(a);case 5:s({type:"updateBoard",board:a}),ke.emit("update",a),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](2),console.error("Cannot update board",r.t0),Lt.a.fire({icon:"error",text:"Cannot update board"});case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},removeBoard:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=e.boardId,r.prev=2,r.next=5,ns.removeBoard(a);case 5:s({type:"removeBoard",boardId:a}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](2),console.error("Cannot remove board",r.t0),Lt.a.fire({icon:"error",text:"Cannot remove board"});case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},addCard:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=t.state,i=e.listId,n=e.cardTitle,r.prev=2,o=ns.getEmptyCard(n),console.log("🚀 ~ file: board-store.js ~ line 142 ~ addCard ~ card",o),s({type:"addCard",listId:i,card:o}),r.next=8,ns.updateBoard(a.currBoard);case 8:ke.emit("update",a.currBoard),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](2),console.error("Cannot add card",r.t0),Lt.a.fire({icon:"error",text:"Cannot add card"});case 15:case"end":return r.stop()}}),r,null,[[2,11]])})))()},updateCard:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=t.state,i=e.list,n=e.card,r.prev=2,s({type:"setIsLoading",isLoading:!0}),r.next=6,ns.updateBoard(a.currBoard);case 6:s({type:"updateCard",list:i,card:n}),s({type:"setIsLoading",isLoading:!1}),ke.emit("update",a.currBoard),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](2),console.error("Cannot update card",r.t0),Lt.a.fire({icon:"error",text:"Cannot update card"});case 15:case"end":return r.stop()}}),r,null,[[2,11]])})))()},removeCard:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=t.state,i=e.listId,n=e.cardId,r.prev=2,s({type:"removeCard",listId:i,cardId:n}),r.next=6,ns.updateBoard(a.currBoard);case 6:ke.emit("update",a.currBoard),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](2),console.error("Cannot remove card",r.t0),Lt.a.fire({icon:"error",text:"Cannot remove card"});case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},addList:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=t.state,i=e.listTitle,r.prev=2,n=ns.getEmptyList(i),s({type:"addList",list:n}),r.next=7,ns.updateBoard(a.currBoard);case 7:ke.emit("update",a.currBoard),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](2),console.error("Cannot add list",r.t0),Lt.a.fire({icon:"error",text:"Cannot add list"});case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},updateList:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=t.state,i=e.list,r.prev=2,s({type:"updateList",list:i}),r.next=6,ns.updateBoard(a.currBoard);case 6:ke.emit("update",a.currBoard),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](2),console.error("Cannot update list",r.t0),Lt.a.fire({icon:"error",text:"Cannot update list"});case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},removeList:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.commit,a=t.state,i=e.listId,r.prev=2,s({type:"removeList",listId:i}),r.next=6,ns.updateBoard(a.currBoard);case 6:ke.emit("update",a.currBoard),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](2),console.error("Cannot remove list",r.t0),Lt.a.fire({icon:"error",text:"Cannot remove list"});case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()}}},vs={login:xs,logout:Ts,signup:ws,getUsers:gs,getById:Cs,remove:ks,update:ys};function gs(){return ss.get("user")}function Cs(t){return ss.get("user/".concat(t))}function ks(t){return ss.delete("user/".concat(t))}function ys(t){return ss.put("user/".concat(t._id),t)}function xs(t){return _s.apply(this,arguments)}function _s(){return _s=Object(d["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.post("auth/login",e);case 2:return r=t.sent,t.abrupt("return",Os(r));case 4:case"end":return t.stop()}}),t)}))),_s.apply(this,arguments)}function ws(t){return js.apply(this,arguments)}function js(){return js=Object(d["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.post("auth/signup",e);case 2:return r=t.sent,t.abrupt("return",Os(r));case 4:case"end":return t.stop()}}),t)}))),js.apply(this,arguments)}function Ts(){return Bs.apply(this,arguments)}function Bs(){return Bs=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),Bs.apply(this,arguments)}function Os(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}var Is=null;sessionStorage.user&&(Is=JSON.parse(sessionStorage.user));var Ds={state:{loggedinUser:Is,users:[],isLogin:!1},getters:{users:function(t){return t.users},loggedinUser:function(t){return t.loggedinUser},isLogin:function(t){return t.isLogin}},mutations:{setUser:function(t,e){var r=e.user;t.loggedinUser=r},setUsers:function(t,e){var r=e.users;t.users=r},setLoginSignUp:function(t,e){var r=e.action;t.isLogin="login"===r}},actions:{login:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.userCred,r.next=3,vs.login(s);case 3:return a=r.sent,t.commit({type:"setUser",user:a}),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))()},signup:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.userCred,r.next=3,vs.signup(s);case 3:return a=r.sent,t.commit({type:"setUser",user:a}),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))()},logout:function(t){return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs.logout();case 2:return t.commit({type:"setUsers",users:[]}),t.commit({type:"setUser",user:null}),e.abrupt("return");case 5:case"end":return e.stop()}}),e)})))()},loadUsers:function(t){return Object(d["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs.getUsers();case 2:r=e.sent,t.commit({type:"setUsers",users:r});case 4:case"end":return e.stop()}}),e)})))()}}};s["default"].use(ts["a"]);var Ls=new ts["a"].Store({state:{isLoading:!1},getters:{isLoading:function(t){return t.isLoading}},mutations:{setIsLoading:function(t,e){var r=e.isLoading;t.isLoading=r}},modules:{boardStore:bs,userStore:Ds}}),$s=r("5c96"),Ms=r.n($s),As=(r("0fae"),r("b2d6")),Ps=r.n(As);r("3c61");s["default"].config.productionTip=!1,s["default"].use(Ms.a,{locale:Ps.a}),new s["default"]({router:Zr,store:Ls,render:function(t){return t(_)}}).$mount("#app")}});
//# sourceMappingURL=app.f163e8f3.js.map